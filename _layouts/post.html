---
layout: default
---

{% if page.seo_title and page.seo_title != "" %}
  {% assign effective_title = page.seo_title %}
{% else %}
  {% assign effective_title = page.title %}
{% endif %}

{% assign words = content | strip_html | number_of_words %}
{% assign minutes = words | divided_by: 200 %}
{% if minutes < 1 %}{% assign minutes = 1 %}{% endif %}

<article class="post-single">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": {{ page.title | jsonify }},
  "description": {% if page.description and page.description != '' %}{{ page.description | jsonify }}{% else %}{{ page.excerpt | strip_html | truncate: 160 | jsonify }}{% endif %},
  "image": {% if page.image %}"{{ page.image | absolute_url }}"{% else %}null{% endif %},
  "author": {
    "@type": "Person",
    "name": {% if page.author == "stefano-vozzi" %}"Stefano Vozzi"{% elsif page.author == "lino-rialti" %}"Lino Rialti"{% else %}{{ page.author | replace: "-", " " | capitalize | jsonify }}{% endif %}
  },
  "keywords": "{{ page.focus_keyword | default: page.category }}",
  "publisher": {
    "@type": "Organization",
    "name": "Rosso di Sera",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ '/assets/images/logo_trasparenza.png' | absolute_url }}"
    }
  },
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ page.url | absolute_url }}"
  }
}
</script>
    <header class="post-header">
        {% if page.category %}
        <a href="{{ '/categoria/' | append: page.category | relative_url }}" class="post-category">{{ page.category | replace: "-", " " | capitalize }}</a>
        {% endif %}
        <h1 class="post-title">{{ page.title }}</h1>
        <div class="post-meta">
            <div class="post-author">
                <div class="author-avatar">
                    {% if page.author == "stefano-vozzi" %}
                      SV
                    {% elsif page.author == "lino-rialti" %}
                      LR
                    {% else %}
                      {% assign author_initials = page.author | slice: 0, 2 | upcase %}
                      {{ author_initials }}
                    {% endif %}
                </div>
                {% if page.author == "stefano-vozzi" %}
                  <span>Stefano Vozzi</span>
                {% elsif page.author == "lino-rialti" %}
                  <span>Lino Rialti</span>
                {% else %}
                  <span>{{ page.author | replace: "-", " " | capitalize }}</span>
                {% endif %}
            </div>
            <span class="meta-separator">•</span>
            <span class="post-date">{{ page.date | date: "%d %B %Y" }}</span>
            <span class="meta-separator">•</span>
            <span class="reading-time">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M12 6v6l4 2"/>
                </svg>
                {{ minutes }} min di lettura
            </span>
        </div>
    </header>

    {% if page.image %}
    <div class="post-featured-image">
        <img src="{{ page.image | relative_url }}" alt="{{ page.image_alt | default: page.title }}" loading="lazy">
    </div>
    {% endif %}

    <div class="post-content">
        {{ content }}
    </div>

    {% if page.tags.size > 0 %}
    <footer class="post-footer">
        <div class="post-tags">
            <span class="tags-label">Tag:</span>
            {% for tag in page.tags %}
            <span class="tag">{{ tag }}</span>
            {% endfor %}
        </div>
    </footer>
    {% endif %}

    <!-- Sezione Commenti -->
    <section class="post-comments">
        <h3 class="comments-title">Commenti</h3>
        <script src="https://giscus.app/client.js"
                data-repo="StE2808/rossodiserablog"
                data-repo-id="R_kgDOQodhxA"
                data-category="Commenti"
                data-category-id="DIC_kwDOQodhxM4C0HE9"
                data-mapping="pathname"
                data-strict="0"
                data-reactions-enabled="1"
                data-emit-metadata="0"
                data-input-position="bottom"
                data-theme="light"
                data-lang="it"
                crossorigin="anonymous"
                async>
        </script>
    </section>

    <!-- Navigazione articoli (dopo i commenti) -->
    <nav class="post-navigation">
        {% if page.previous.url %}
        <a href="{{ page.previous.url | relative_url }}" class="nav-prev">
            <span class="nav-label">← Precedente</span>
            <span class="nav-title">{{ page.previous.title | truncate: 50 }}</span>
        </a>
        {% endif %}
        {% if page.next.url %}
        <a href="{{ page.next.url | relative_url }}" class="nav-next">
            <span class="nav-label">Successivo →</span>
            <span class="nav-title">{{ page.next.title | truncate: 50 }}</span>
        </a>
        {% endif %}
    </nav>
</article>
